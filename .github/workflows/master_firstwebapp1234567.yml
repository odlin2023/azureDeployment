# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions

# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions


name: Deploy JAR to Azure App Service

on:
  push:
    branches:
      - main # Change this to your main branch name

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Java
      uses: actions/setup-java@v2
      with:
        java-version: '17' # Use Java 17

    - name: Build JAR with Java 17
      run: |
        ./gradlew build # Modify this to your build command

    - name: Run Deployment Script
      run: |
        bash $GITHUB_WORKSPACE/.github/scripts/deploy.sh
        
env:
  GITHUB_WORKSPACE: ${{ github.workspace }}
